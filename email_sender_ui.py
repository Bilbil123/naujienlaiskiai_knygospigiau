# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'email_sender.ui'
#
# Created by: PyQt5 UI code generator 5.15.11
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import (QWidget, QVBoxLayout, QHBoxLayout, QPushButton, 
                          QLineEdit, QTextEdit, QLabel, QScrollBar, QColorDialog,
                          QComboBox, QFontComboBox, QTabWidget, QGridLayout,
                          QDialog, QDialogButtonBox)
from PyQt5.QtCore import Qt
from PyQt5.QtGui import QTextCursor, QColor, QFont


class LinkDialog(QDialog):
    def __init__(self, parent=None):
        super().__init__(parent)
        self.setWindowTitle("Ä®terpti nuorodÄ…")
        self.setModal(True)
        
        # Dialog layout
        layout = QVBoxLayout(self)
        
        # URL input
        url_layout = QHBoxLayout()
        url_label = QLabel("Nuoroda:")
        self.url_input = QLineEdit()
        self.url_input.setPlaceholderText("https://")
        url_layout.addWidget(url_label)
        url_layout.addWidget(self.url_input)
        layout.addLayout(url_layout)
        
        # Buttons
        button_box = QDialogButtonBox(
            QDialogButtonBox.Ok | QDialogButtonBox.Cancel
        )
        button_box.accepted.connect(self.accept)
        button_box.rejected.connect(self.reject)
        layout.addWidget(button_box)
        
        self.setLayout(layout)
    
    def get_url(self):
        return self.url_input.text().strip()

class Ui_Form(QWidget):
    def __init__(self):
        super().__init__()
        self.setupUi()

    def setupUi(self):
        self.setWindowTitle("Knygospigiau.lt naujienlaiÅ¡kis âœ…")
        self.resize(1000, 800)

        # Main layout
        main_layout = QVBoxLayout()
        self.setLayout(main_layout)

        # Subject
        subject_layout = QHBoxLayout()
        subject_label = QLabel("LaiÅ¡ko antraÅ¡tÄ—:")
        self.subjectLineEdit = QLineEdit()
        subject_layout.addWidget(subject_label)
        subject_layout.addWidget(self.subjectLineEdit)
        main_layout.addLayout(subject_layout)

        # Font formatting
        font_layout = QHBoxLayout()
        
        # Font family
        self.fontComboBox = QFontComboBox()
        self.fontComboBox.currentFontChanged.connect(self.change_font)
        font_layout.addWidget(self.fontComboBox)
        
        # Font size
        self.fontSizeCombo = QComboBox()
        sizes = ['8', '9', '10', '11', '12', '14', '16', '18', '20', '22', '24', '26', '28', '36', '48', '72']
        self.fontSizeCombo.addItems(sizes)
        self.fontSizeCombo.setCurrentText('12')
        self.fontSizeCombo.currentTextChanged.connect(self.change_font_size)
        font_layout.addWidget(self.fontSizeCombo)

        # Text alignment buttons
        self.alignLeftButton = QPushButton("â«·")
        self.alignLeftButton.setToolTip("Lygiuoti kairÄ—je")
        self.alignLeftButton.clicked.connect(lambda: self.align_text('left'))
        
        self.alignCenterButton = QPushButton("â«¸â«·")
        self.alignCenterButton.setToolTip("Centruoti")
        self.alignCenterButton.clicked.connect(lambda: self.align_text('center'))
        
        self.alignRightButton = QPushButton("â«¸")
        self.alignRightButton.setToolTip("Lygiuoti deÅ¡inÄ—je")
        self.alignRightButton.clicked.connect(lambda: self.align_text('right'))
        
        font_layout.addWidget(self.alignLeftButton)
        font_layout.addWidget(self.alignCenterButton)
        font_layout.addWidget(self.alignRightButton)
        
        main_layout.addLayout(font_layout)

        # Text formatting buttons
        format_layout = QHBoxLayout()
        
        # Bold button
        self.boldButton = QPushButton("B")
        self.boldButton.setStyleSheet("font-weight: bold;")
        self.boldButton.clicked.connect(self.toggle_bold)
        
        # Italic button
        self.italicButton = QPushButton("I")
        self.italicButton.setStyleSheet("font-style: italic;")
        self.italicButton.clicked.connect(self.toggle_italic)
        
        # Underline button
        self.underlineButton = QPushButton("U")
        self.underlineButton.setStyleSheet("text-decoration: underline;")
        self.underlineButton.clicked.connect(self.toggle_underline)
        
        # Color button
        self.colorButton = QPushButton("Spalva")
        self.colorButton.clicked.connect(self.choose_color)
        
        # Link buttons
        self.linkButton = QPushButton("Ä®terpti nuorodÄ…")
        self.linkButton.clicked.connect(self.insert_link)
        
        self.removeLinkButton = QPushButton("PaÅ¡alinti nuorodÄ…")
        self.removeLinkButton.clicked.connect(self.remove_link)

        format_layout.addWidget(self.boldButton)
        format_layout.addWidget(self.italicButton)
        format_layout.addWidget(self.underlineButton)
        format_layout.addWidget(self.colorButton)
        format_layout.addWidget(self.linkButton)
        format_layout.addWidget(self.removeLinkButton)
        format_layout.addStretch()
        
        main_layout.addLayout(format_layout)

        # Holiday promotions and emoji tabs in horizontal layout
        holiday_emoji_layout = QHBoxLayout()

        # Holiday promotions combo box and insert button
        promotion_layout = QVBoxLayout()
        promotion_label = QLabel("Å ventinÄ—s akcijos:")
        self.promotionComboBox = QComboBox()
        
        # Dictionary of holiday promotions
        self.holiday_promotions = {
            "ðŸŽ† NaujÅ³jÅ³ metÅ³ akcija": "Pasitikite Naujuosius Metus su knyga! ðŸŽ‰\nVisiems groÅ¾inÄ—s literatÅ«ros leidiniams -25% nuolaida su kodu NAUJI2024\n",
            "â¤ï¸ Valentino dienos akcija": "MeilÄ—s dienai - romantiÅ¡kos knygos su -20% nuolaida! ðŸ’\nNaudokite kodÄ… MEILE214\n",
            "ðŸ‡±ðŸ‡¹ Vasario 16 akcija": "Å venÄiame Lietuvos gimtadienÄ¯! Visoms lietuviÅ³ autoriÅ³ knygoms -30% nuolaida.\nKodas: LIETUVA16\n",
            "ðŸ° VelykÅ³ akcija": "VelykinÄ—s nuolaidos! ðŸ¥š\nVaikÅ³ literatÅ«rai ir kulinarijos knygoms -25%\nKodas: VELYKOS2024\n",
            "ðŸ’ Mamos dienos akcija": "Brangiai Mamai - ypatinga dovana! Visoms knygoms apie Å¡eimÄ…, sveikatÄ… ir groÅ¾Ä¯ -30%\nKodas: MAMYTE2024\n",
            "ðŸ‘” TÄ—vo dienos akcija": "Dovanokite TÄ—Äiui Ä¯kvepianÄiÄ… knygÄ…! Biografijoms ir hobiÅ³ knygoms -25%\nKodas: TETIS2024\n",
            "ðŸŒ¿ JoniniÅ³ akcija": "Trumpiausia naktis - ilgiausios nuolaidos! 24 valandas visoms knygoms -24%\nKodas: JONINES24\n",
            "ðŸ‘‘ ValstybÄ—s dienos akcija": "Å venÄiame Lietuvos valstybingumÄ…! Istorijos knygoms -30%\nKodas: MINDAUGAS713\n",
            "ðŸŒ¾ Å½olinÄ—s akcija": "Å½olinÄ—s proga - gamtos, sodininkystÄ—s ir sveikatingumo knygoms -20%\nKodas: ZOLINE815\n",
            "ðŸ“š Mokslo metÅ³ akcija": "RuoÅ¡iamÄ—s Ä¯ mokyklÄ…! VadovÄ—liams ir pratyboms -15%\nKodas: MOKYKLA2024\n",
            "ðŸŽƒ Helovino akcija": "Å iurpioms istorijoms ir mistiniams romanams -20%\nKodas: BOO1031\n",
            "ðŸ•¯ï¸ VÄ—liniÅ³ akcija": "Prisiminkime... Biografijoms ir atsiminimÅ³ knygoms -20%\nKodas: ATMINTIS11\n",
            "ðŸ·ï¸ Juodojo penktadienio akcija": "DIDÅ½IAUSIOS metÅ³ nuolaidos! Visoms knygoms iki -50%\nKodas: BLACK2024\n",
            "ðŸŽ„ KalÄ—dinÄ— akcija": "KalÄ—dinÄ—s dovanos su meile! ðŸŽ\nVisoms knygoms -30% nuolaida\nKodas: KALEDOS2024\n"
        }
        
        self.promotionComboBox.addItems(self.holiday_promotions.keys())
        self.insertPromotionButton = QPushButton("Ä®terpti akcijÄ…")
        self.insertPromotionButton.clicked.connect(self.insert_promotion)
        
        promotion_layout.addWidget(promotion_label)
        promotion_layout.addWidget(self.promotionComboBox)
        promotion_layout.addWidget(self.insertPromotionButton)
        
        holiday_emoji_layout.addLayout(promotion_layout)

        # Create tabs for emoji categories
        emoji_tabs = QTabWidget()
        
        # Smileys and People
        smileys_tab = QWidget()
        smileys_layout = QGridLayout()
        smileys_emojis = {
            "ðŸ˜Š": "Å ypsena",
            "ðŸ˜ƒ": "Plati Å¡ypsena",
            "ðŸ˜„": "Å ypsena su akimis",
            "ðŸ˜": "Spinduliuojanti Å¡ypsena",
            "ðŸ˜…": "Å ypsena su prakaitu",
            "ðŸ˜‚": "AÅ¡aros iÅ¡ juoko",
            "ðŸ¤£": "Ridenasi iÅ¡ juoko",
            "ðŸ˜‰": "MirktelÄ—jimas",
            "ðŸ˜": "Å ypsena su Å¡irdelÄ—mis",
            "ðŸ¥°": "Mylinti Å¡ypsena",
            "ðŸ˜˜": "BuÄkis",
            "ðŸ¤—": "Apkabinimas",
            "ðŸ¤©": "Å½vaigÅ¾dÄ—tos akys",
            "ðŸ˜Ž": "Å ypsena su akiniais",
            "ðŸ¥³": "VakarÄ—lio veidas",
            "ðŸ‘‹": "Mojuojanti ranka"
        }
        self.add_emojis_to_grid(smileys_layout, smileys_emojis)
        smileys_tab.setLayout(smileys_layout)
        emoji_tabs.addTab(smileys_tab, "ðŸ˜Š Å ypsenÄ—lÄ—s")

        # Lithuanian Holidays
        holidays_tab = QWidget()
        holidays_layout = QGridLayout()
        holidays_emojis = {
            # Naujieji Metai
            "ðŸŽ†": "Fejerverkai",
            "ðŸŽ‡": "Å½ieÅ¾irbos",
            "ðŸŽ‰": "Å ventÄ—s popetas",
            # Vasario 16
            "ðŸ‡±ðŸ‡¹": "Lietuvos vÄ—liava",
            "ðŸ¦": "Vytis",
            "ðŸ—½": "LaisvÄ—",
            # Velykos
            "ðŸ¥š": "Margutis",
            "ðŸ°": "VelykÅ³ kiÅ¡kis",
            "ðŸŒ·": "Pavasario gÄ—lÄ—",
            # Motinos diena
            "ðŸ’": "GÄ—liÅ³ puokÅ¡tÄ—",
            "ðŸŒº": "GÄ—lÄ— mamai",
            "ðŸ’": "Å irdis su kaspinu",
            # JoninÄ—s
            "ðŸŒ¿": "Å½olynai",
            "ðŸ”¥": "JoniniÅ³ lauÅ¾as",
            "ðŸŒ™": "MÄ—nulis",
            # Mindaugo karÅ«navimas
            "ðŸ‘‘": "KarÅ«na",
            "âš”ï¸": "Kardai",
            "ðŸ°": "Pilis",
            # Å½olinÄ—
            "ðŸŒ¾": "Javai",
            "ðŸŒ»": "SaulÄ—grÄ…Å¾a",
            "ðŸƒ": "Å½alumynai",
            # VÄ—linÄ—s
            "ðŸ•¯ï¸": "Å½vakÄ—",
            "ðŸŒ¹": "RoÅ¾Ä—",
            "âœ¨": "Å½vaigÅ¾dÄ—s",
            # KÅ«Äios ir KalÄ—dos
            "ðŸŽ„": "KalÄ—dÅ³ eglutÄ—",
            "â­": "Betliejaus Å¾vaigÅ¾dÄ—",
            "ðŸŽ": "Dovana",
            "ðŸ•Šï¸": "Taikos balandis",
            "â„ï¸": "SnaigÄ—",
            "â›„": "Sniego senis"
        }
        self.add_emojis_to_grid(holidays_layout, holidays_emojis)
        holidays_tab.setLayout(holidays_layout)
        emoji_tabs.addTab(holidays_tab, "ðŸ‡±ðŸ‡¹ Å ventÄ—s")

        # Books and Reading
        books_tab = QWidget()
        books_layout = QGridLayout()
        books_emojis = {
            "ðŸ“š": "Knygos",
            "ðŸ“–": "Atverta knyga",
            "ðŸ“•": "Raudona knyga",
            "ðŸ“—": "Å½alia knyga",
            "ðŸ“˜": "MÄ—lyna knyga",
            "ðŸ“™": "OranÅ¾inÄ— knyga",
            "ðŸ““": "UÅ¾raÅ¡Å³ knygelÄ—",
            "ðŸ“”": "Dekoruota knyga",
            "ðŸ“’": "UÅ¾raÅ¡inÄ—",
            "ðŸ“‘": "Å½ymekliai",
            "ðŸ”–": "Knygos Å¾ymeklis",
            "âœï¸": "PieÅ¡tukas",
            "ðŸ“": "UÅ¾raÅ¡ai",
            "ðŸŽ¯": "Taikinys",
            "ðŸ“°": "LaikraÅ¡tis",
            "ðŸ—žï¸": "Suvyniotas laikraÅ¡tis"
        }
        self.add_emojis_to_grid(books_layout, books_emojis)
        books_tab.setLayout(books_layout)
        emoji_tabs.addTab(books_tab, "ðŸ“š Knygos")

        # Shopping and Gifts
        shopping_tab = QWidget()
        shopping_layout = QGridLayout()
        shopping_emojis = {
            "ðŸŽ": "Dovana",
            "ðŸŽ€": "Kaspinas",
            "ðŸ·ï¸": "EtiketÄ—",
            "ðŸ’": "Å irdis su kaspinu",
            "ðŸ’°": "PinigÅ³ maiÅ¡as",
            "ðŸ’³": "Kredito kortelÄ—",
            "ðŸ›ï¸": "PirkiniÅ³ krepÅ¡iai",
            "ðŸŽŠ": "Konfeti",
            "ðŸŽ‰": "Å ventÄ—s popetas",
            "ðŸ’Œ": "MeilÄ—s laiÅ¡kas",
            "ðŸ“¦": "PakuotÄ—",
            "ðŸŽ«": "Bilietas",
            "ðŸª": "ParduotuvÄ—",
            "ðŸ’´": "Pinigai",
            "ðŸ’¶": "Euro banknotas",
            "ðŸª™": "Moneta"
        }
        self.add_emojis_to_grid(shopping_layout, shopping_emojis)
        shopping_tab.setLayout(shopping_layout)
        emoji_tabs.addTab(shopping_tab, "ðŸ›ï¸ Apsipirkimas")

        # Decorative and Attention
        decorative_tab = QWidget()
        decorative_layout = QGridLayout()
        decorative_emojis = {
            "â­": "Å½vaigÅ¾dÄ—",
            "ðŸŒŸ": "Å vieÄianti Å¾vaigÅ¾dÄ—",
            "âœ¨": "KibirkÅ¡tys",
            "ðŸ’«": "Svaigulys",
            "âš¡": "Å½aibas",
            "ðŸ”¥": "Ugnis",
            "â¤ï¸": "Raudona Å¡irdis",
            "ðŸ’œ": "VioletinÄ— Å¡irdis",
            "ðŸ’™": "MÄ—lyna Å¡irdis",
            "ðŸŽ¨": "PaletÄ—",
            "ðŸŽ­": "Menas",
            "ðŸŽª": "Cirkas",
            "ðŸŒˆ": "VaivorykÅ¡tÄ—",
            "ðŸŽ¯": "Taikinys",
            "ðŸ’¡": "LemputÄ—",
            "ðŸ“¢": "Garsiakalbis"
        }
        self.add_emojis_to_grid(decorative_layout, decorative_emojis)
        decorative_tab.setLayout(decorative_layout)
        emoji_tabs.addTab(decorative_tab, "âœ¨ Dekoracijos")

        # Seasons and Weather
        seasons_tab = QWidget()
        seasons_layout = QGridLayout()
        seasons_emojis = {
            "ðŸŒž": "SaulÄ—",
            "ðŸŒ¸": "GÄ—lÄ—",
            "ðŸ": "Klevo lapas",
            "â„ï¸": "SnaigÄ—",
            "ðŸŒº": "Hibiskas",
            "ðŸŒ·": "TulpÄ—",
            "ðŸŒ¹": "RoÅ¾Ä—",
            "ðŸŒ¼": "GÄ—lytÄ—",
            "ðŸ‚": "Krintantys lapai",
            "â›„": "Sniego senis",
            "ðŸŒ¤ï¸": "SaulÄ— su debesiu",
            "ðŸŒˆ": "VaivorykÅ¡tÄ—",
            "â˜”": "Lietsargis",
            "ðŸŒŠ": "Banga",
            "ðŸŽ‹": "Bambuko dekoracija",
            "ðŸŽ": "PuÅ¡ies dekoracija"
        }
        self.add_emojis_to_grid(seasons_layout, seasons_emojis)
        seasons_tab.setLayout(seasons_layout)
        emoji_tabs.addTab(seasons_tab, "ðŸŒ¸ Sezonai")

        holiday_emoji_layout.addWidget(emoji_tabs)
        main_layout.addLayout(holiday_emoji_layout)

        # Body
        body_label = QLabel("LaiÅ¡ko tekstas:")
        self.bodyTextEdit = QTextEdit()
        self.bodyTextEdit.setAcceptRichText(True)
        main_layout.addWidget(body_label)
        main_layout.addWidget(self.bodyTextEdit)

        # Quick templates
        templates_layout = QHBoxLayout()
        templates = [
            ("Ä®terpti pasisveikinimÄ…", "Sveiki,\n\n")
        ]
        
        for label, text in templates:
            btn = QPushButton(label)
            btn.clicked.connect(lambda checked, t=text: self.insert_template(t))
            templates_layout.addWidget(btn)
        
        main_layout.addLayout(templates_layout)

        # Send button
        self.sendButton = QPushButton("SiÅ³sti laiÅ¡kus")
        main_layout.addWidget(self.sendButton)

        # Log
        log_label = QLabel("Siuntimo logas:")
        self.logTextEdit = QTextEdit()
        self.logTextEdit.setReadOnly(True)
        main_layout.addWidget(log_label)
        main_layout.addWidget(self.logTextEdit)

    def add_emojis_to_grid(self, layout, emojis):
        row = 0
        col = 0
        max_cols = 8
        
        for emoji, tooltip in emojis.items():
            btn = QPushButton(emoji)
            btn.setToolTip(tooltip)
            btn.setStyleSheet("font-size: 16px; padding: 5px;")
            btn.clicked.connect(lambda checked, e=emoji: self.insert_emoji(e))
            layout.addWidget(btn, row, col)
            
            col += 1
            if col >= max_cols:
                col = 0
                row += 1

    def insert_promotion(self):
        selected_promotion = self.promotionComboBox.currentText()
        promotion_text = self.holiday_promotions[selected_promotion]
        cursor = self.bodyTextEdit.textCursor()
        cursor.insertText(promotion_text)

    def toggle_bold(self):
        cursor = self.bodyTextEdit.textCursor()
        format = cursor.charFormat()
        format.setFontWeight(QFont.Bold if format.fontWeight() != QFont.Bold else QFont.Normal)
        cursor.mergeCharFormat(format)
        self.bodyTextEdit.setCurrentCharFormat(format)

    def toggle_italic(self):
        cursor = self.bodyTextEdit.textCursor()
        format = cursor.charFormat()
        format.setFontItalic(not format.fontItalic())
        cursor.mergeCharFormat(format)
        self.bodyTextEdit.setCurrentCharFormat(format)

    def toggle_underline(self):
        cursor = self.bodyTextEdit.textCursor()
        format = cursor.charFormat()
        format.setFontUnderline(not format.fontUnderline())
        cursor.mergeCharFormat(format)
        self.bodyTextEdit.setCurrentCharFormat(format)

    def choose_color(self):
        color = QColorDialog.getColor()
        if color.isValid():
            cursor = self.bodyTextEdit.textCursor()
            format = cursor.charFormat()
            format.setForeground(color)
            cursor.mergeCharFormat(format)
            self.bodyTextEdit.setCurrentCharFormat(format)

    def change_font(self, font):
        cursor = self.bodyTextEdit.textCursor()
        format = cursor.charFormat()
        format.setFont(font)
        cursor.mergeCharFormat(format)
        self.bodyTextEdit.setCurrentCharFormat(format)

    def change_font_size(self, size):
        cursor = self.bodyTextEdit.textCursor()
        format = cursor.charFormat()
        format.setFontPointSize(float(size))
        cursor.mergeCharFormat(format)
        self.bodyTextEdit.setCurrentCharFormat(format)

    def align_text(self, alignment):
        cursor = self.bodyTextEdit.textCursor()
        blockFormat = cursor.blockFormat()
        
        if alignment == 'left':
            blockFormat.setAlignment(Qt.AlignLeft)
        elif alignment == 'center':
            blockFormat.setAlignment(Qt.AlignCenter)
        elif alignment == 'right':
            blockFormat.setAlignment(Qt.AlignRight)
            
        cursor.mergeBlockFormat(blockFormat)
        self.bodyTextEdit.setTextCursor(cursor)

    def insert_link(self):
        cursor = self.bodyTextEdit.textCursor()
        if cursor.hasSelection():
            text = cursor.selectedText()
            dialog = LinkDialog(self)
            if dialog.exec_() == QDialog.Accepted:
                url = dialog.get_url()
                if url:
                    if not url.startswith(('http://', 'https://')):
                        url = 'https://' + url
                    cursor.insertHtml(f'<a href="{url}">{text}</a>')
                    self.bodyTextEdit.setTextCursor(cursor)

    def remove_link(self):
        cursor = self.bodyTextEdit.textCursor()
        if cursor.hasSelection():
            # Get the current character format
            format = cursor.charFormat()
            
            # Remove the anchor property
            format.setAnchor(False)
            format.setAnchorHref("")
            
            # Reset text color to black
            format.setForeground(QColor("black"))
            
            # Remove underline
            format.setFontUnderline(False)
            
            # Apply the modified format to the selected text
            cursor.mergeCharFormat(format)
            self.bodyTextEdit.setTextCursor(cursor)

    def insert_emoji(self, emoji):
        self.bodyTextEdit.insertPlainText(emoji)

    def insert_template(self, template_text):
        cursor = self.bodyTextEdit.textCursor()
        cursor.insertText(template_text)


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Form = QtWidgets.QWidget()
    ui = Ui_Form()
    ui.setupUi(Form)
    Form.show()
    sys.exit(app.exec_())
